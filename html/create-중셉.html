<!DOCTYPE html>
<html lang="ko">

<head>
  <title>go vote</title>

  <link type="text/css" rel="stylesheet" href="../css/style.css" />

  <meta charset="UTF-8" />
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"
  />
  <meta name="format-detection" content="telephone=no, address=no, email=no" />
  <meta http-equiv="Content-Script-Type" content="text/javascript">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>

<body class="body-create">
  <!-- 투표 생성 화면 (1단계) -->
  <div id="wrapper" class="create">

    <div class="page-top">

      <div class="page-header">
        <div class="page-header-left">
          <button class="icon-container"><i class="icon icon-close"></i></button>
        </div>
        <h1 class="page-title">
          투표 생성
        </h1>
      </div>

      <div class="create-process">
        <!--
            [전달사항]
            활성화된 순서에 따라 create-process에
            active-1, active-2, active-3, active-4
            클래스 추가

          -->
        <div class="process-level "><span class="text">투표 정보 입력</span></div>
        <div class="process-level active">
          <span class="text">투표 항목 입력</span>
        </div>
        <div class="process-level">
          <span class="text">투표 항목 입력</span>
        </div>
        <div class="process-level">
          <span class="text">작성 정보 확인</span>
        </div>
      </div>


    </div>

    <div class="page-body">

      <div class="create-item-container">

        <form action="">
          <ul class="create-item">
            <li>
              <p class="create-title">투표제목</p>
            </li>
            <li>
              <input type="text" placeholder="투표 제목을 입력하세요." class="create-input" />
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표정보 / 이미지 등록</p>
              <button class="button-image-attach"><i class="icon icon-image-attach"></i></button>
            </li>
            <li>


              <!-- <textarea type="text" placeholder="투표 정보를 입력하거나 이미지를 등록하세요." class="create-description" id="textarea-autosize" onkeyup="auto_grow(this)"></textarea> -->


              <!-- <textarea id="auto-textarea" class="create-textarea" onkeyup="resizeTextarea('auto-textarea')" data-resizable="true" placeholder="투표 정보를 입력하거나 이미지를 등록하세요."></textarea> -->

              <hr>
              <div contentEditable="true" class="create-description" data-placeholder="투표 정보를 입력하거나 이미지를 등록하세요." id="editable-area" tabIndex="0"></div>



              <!-- <p class="editable-placeholder">투표 정보를 입력하거나 이미지를 등록하세요.</p> -->
              <!--
            [전달사항]
            data-autoresize 속성의 textarea는 높이값을 
          -->

            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 시작 일시</p>
            </li>
            <li>
              <div>2018년 8월 30일 목요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 종료 기준</p>
            </li>
            <li>
              <input type="radio" />
              <label for="">일시</label>
              <input type="radio" />
              <label for="">사람 수</label>
            </li>
            <li>
              <div>2018년 9월 4일 화요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 종료 기준</p>
            </li>
            <li>
              <input type="radio" />
              <label for="">일시</label>
              <input type="radio" />
              <label for="">사람 수</label>
            </li>
            <li>
              <div>2018년 9월 4일 화요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 종료 기준</p>
            </li>
            <li>
              <input type="radio" />
              <label for="">일시</label>
              <input type="radio" />
              <label for="">사람 수</label>
            </li>
            <li>
              <div>2018년 9월 4일 화요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 종료 기준</p>
            </li>
            <li>
              <input type="radio" />
              <label for="">일시</label>
              <input type="radio" />
              <label for="">사람 수</label>
            </li>
            <li>
              <div>2018년 9월 4일 화요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 종료 기준</p>
            </li>
            <li>
              <input type="radio" />
              <label for="">일시</label>
              <input type="radio" />
              <label for="">사람 수</label>
            </li>
            <li>
              <div>2018년 9월 4일 화요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 종료 기준</p>
            </li>
            <li>
              <input type="radio" />
              <label for="">일시</label>
              <input type="radio" />
              <label for="">사람 수</label>
            </li>
            <li>
              <div>2018년 9월 4일 화요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>

          <ul class="create-item">
            <li>
              <p class="create-title">투표 종료 기준</p>
            </li>
            <li>
              <input type="radio" />
              <label for="">일시</label>
              <input type="radio" />
              <label for="">사람 수</label>
            </li>
            <li>
              <div>2018년 9월 4일 화요일 <i class="icon icon-clock"></i>오후 3:30 <i class="icon icon-arrow-right"></i></div>
            </li>
          </ul>
        </form>
      </div>
      <!--
          [전달사항]????//TODO:이건 굳이 전달안해도 될듯?
          .create-item 아래에는 다음의 요소들이 올 수 있습니다.
            1) .create-title : 제목 요소
            2) .create-input : 인풋 필드 텍스트 요소
            3) .create-date : 날짜 선택 요소
            4) .create-radio : 라디오 요소
            5) .create-toggle : on/off 라디오 요소
        -->
    </div>

    <!-- <script>


      var observe;
      if (window.attachEvent) {
        observe = function (element, event, handler) {
          element.attachEvent('on' + event, handler);
        };
      }
      else {
        observe = function (element, event, handler) {
          element.addEventListener(event, handler, false);
        };
      }
      function init() {
        var text = document.getElementById('textarea-autosize');
        function resize() {
          text.style.height = 'auto';
          text.style.height = text.scrollHeight + 'px';
        }
        /* 0-timeout to get the already changed text */
        function delayedResize() {
          window.setTimeout(resize, 0);
        }
        observe(text, 'change', resize);
        observe(text, 'cut', delayedResize);
        observe(text, 'paste', delayedResize);
        observe(text, 'drop', delayedResize);
        observe(text, 'keydown', delayedResize);

        text.focus();
        text.select();
        resize();
      }

      init();

    </script> -->

    <script>

      // var test = function (element) {
      //   console.log('aa')
      //   console.log(element.innerHTML)
      //   var a = element.innerHTML.length;
      //   console.log(a);

      //   if (a <= 0) {
      //     console.log("!");
      //     element.classList.add('asdf')
      //     alert("!")
      //   } else {
      //     element.classList.remove('asdf')
      //   }
      // }

      var target = document.querySelector('#editable-area');
      var observer = new MutationObserver(function (mutations) {
        mutations.forEach(function (mutation) {
          if (target.textContent == '') {
            target.innerHTML = '';
          }
        });
      });
      var config = { attributes: true, childList: true, characterData: true };
      observer.observe(target, config);


    </script>


  </div>
</body>